

<!DOCTYPE html>
<html>
<head>
       <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
       <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
       <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
       <link rel="stylesheet" type="text/css" href="../student/header.html">
       <link rel="stylesheet" type="text/css" href="addcss.css">
</head>
<body>

	<form action="/action_page.php" method="POST">
		<div class="container">
			<h1>Add an allocation</h1>
                     <h1 id="status"></h1>
                     <hr>
                     <label>Select a student</label>
                     <form method="POST" action="oong dien link controller vao day">
                         <select id="student1" name="student1">
                         </select>
                         <select id="student2" name="student2">

                         </select>
                         <select id="student3" name="student3">

                         </select>
                  </form>
                  <label>Select a tutor</label>
                  <select name="tutorid" id="tutor">

                  </select>
                  <hr>
                  <p>Back to home page <a href="../header.html">HOME</a>.</p>

                  <button type="submit" class="addstudent">Add this allocatiton</button>
           </div>
    </form>

</body>
</html>
<script type="text/javascript">
       $.ajax({
              type : 'GET', //Sử dụng kiểu gửi dữ liệu POST
              url : 'https://etutoring-project.azurewebsites.net/api/allocation/add',
              headers: {"Authorization": "Bearer Wd_GouzydhCnuXv80TYCPYML8yBfyIMJ7HTFSHf3cPxAn1JW994xk0mizSWbWP4BUqkN24eQBLi4NF84TCH2UtH1k8ty2mZ2p2bpj8NQ_64H9qWV8kNWRzwTBErGEoMPeKNKwhJHmL0AxeYPcERVgvLk12Phvg4LpokxQgRCnkc87abVkPIy2AsOLwObKKsFQnMpBOEMeT485qF4yzBHUm8g4Ip1Ibpd06N4UxAxzh-jLch-8-fBf8XV0MYqdwCz6w3MikGJqIC1isTtXpD21o21fPk8cCfJyKYTOmmk52uXk6QyzFeMuCwsIhpatbcRSOFkbBdHz6MEhNQPdd2iMMCW6yEsU487Z1qSngHyCYeq0LWjz4cCXk5PzeqKzo2S"},
              dataType: 'json',
              cache: false,
              contentType: false,
              processData: false,
              success : function(data)  // Hàm thực thi khi nhận dữ liệu được từ server
              {
                     console.log(data);
                     var studentselect1 = document.getElementById("student1");
                     var studentselect2 = document.getElementById("student2");
                     var studentselect3 = document.getElementById("student3");
                     var tutor = document.getElementById("tutor");
                     var studentid = [];
                     var studentName = [];
                     var tutorid = [];

                     for (var i = data.unallocatedStudents.length - 1; i >= 0; i--) {
                        studentid.push(data.unallocatedStudents[i].fullName);
                 }
                 for (var i = studentid.length - 1; i >= 0; i--) {
                        var option = document.createElement("option");
                        option.text = studentid[i];
                        studentselect1.appendChild(option);
                 }
                 for (var i = studentid.length - 1; i >= 0; i--) {
                        var option = document.createElement("option");
                        option.text = studentid[i];
                        studentselect2.appendChild(option);
                 }
                 for (var i = studentid.length - 1; i >= 0; i--) {
                        var option = document.createElement("option");
                        option.text = studentid[i];
                        studentselect3.appendChild(option);
                 }
                 for (var i = data.allocations.length - 1; i >= 0; i--) {
                        tutorid.push(data.allocations[i].tutor.fullName);
                 }
                 for (var i = tutorid.length - 1; i >= 0; i--) {
                        var option = document.createElement("option");
                        option.text = tutorid[i];
                        tutor.appendChild(option);
                 }
          }
   });
</script>